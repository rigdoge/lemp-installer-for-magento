# 变更日志

## [1.0.15] - 2024-03-27

### Added
- 添加了 MySQL 触发器创建所需的配置
- 添加了 `log_bin_trust_function_creators = 1` 配置
- 为 root 用户授予 SUPER 权限

## [1.0.14] - 2024-01-15

### 修复
- 更新 Percona MySQL 仓库的添加方式，使用官方 DEB 包

## [1.0.13] - 2024-01-15

### 修复
- 在 ARM64 架构上也使用 Percona MySQL 8.0，替换 MariaDB

## [1.0.12] - 2024-01-15

### 修复
- 移除 MariaDB 仓库配置，使用系统默认包管理器安装

## [1.0.11] - 2024-01-15

### 修复
- 参考 CloudPanel 修改 x86_64 架构使用 Percona MySQL 8.0

## [1.0.10] - 2024-01-15

### 修复
- 更改 MariaDB 仓库地址为阿里云镜像源

## [1.0.9] - 2024-01-15

### 修复
- 参考 CloudPanel 修改 MariaDB 仓库地址为 mirror.mariadb.org

## [1.0.8] - 2024-01-15

### 修复
- 更新 MariaDB 仓库地址为 archive.mariadb.org

## [1.0.7] - 2024-01-15

### 修复
- 更改 MariaDB 仓库地址为主仓库，解决 404 错误

## [1.0.6] - 2024-01-15

### 修复
- 修改 MariaDB 安装方式，使用官方仓库直接安装而不是仓库设置脚本

## [1.0.5] - 2024-01-15

### 修复
- 修正 MariaDB 仓库版本格式，使用 "10.6" 而不是 "mariadb-10.6.20"

## [1.0.4] - 2024-01-15

### 修复
- 指定 MariaDB 具体版本为 10.6.20

## [1.0.3] - 2024-01-15

### 修复
- 添加 MariaDB 官方仓库以安装 10.6 版本

## [1.0.2] - 2024-01-15

### 修复
- 将 ARM64 架构的 MariaDB 版本固定为 10.6，以确保与 Magento 兼容

## [1.0.1] - 2024-01-15

### 修复
- 确保安装 Nginx 1.24 版本
- 优化 Composer 安装过程，避免 root 用户提示
- 根据 CPU 架构选择不同的数据库和 RabbitMQ 安装方式
- 添加组件检测逻辑，避免重复安装

## [1.0.0] - 2024-01-15

### 新增
- 基础 LEMP 环境安装脚本
- MySQL 数据库配置脚本
- Nginx 虚拟主机配置脚本
- 系统备份脚本
- 安全检查脚本
- 性能优化脚本
- ModSecurity WAF 管理脚本（可选）
- Fail2ban 入侵防御管理脚本（可选）

### 特性
- 支持 x86_64 和 ARM64 架构
- PHP 8.2 支持
- 针对 Magento 优化的配置
- 完整的错误处理和日志记录
- 模块化设计
- 可选的安全组件 

## [1.1.0] - 2025-01-16

### Added
- 支持自定义 PHP-FPM 和 Nginx 用户（默认使用 doge 用户）
- 添加 PHP-FPM 日志配置和自动创建
- 添加服务状态检查和日志显示功能

### Changed
- 使用 Magento 自带的 nginx.conf.sample 配置
- 优化 PHP-FPM 池配置
- 改进错误处理和日志输出

### Fixed
- 修复 PHP-FPM socket 权限问题
- 修复 systemctl status 命令分页问题
- 修复日志文件权限问题 

## [1.1.1] - 2024-03-21

### 新增
- 添加 SSL 配置脚本 `configure_ssl.sh`，支持自动申请和配置 Let's Encrypt SSL 证书
- 支持 SSL 证书自动续期
- 添加 SSL 配置使用说明文档

### 变更
- 更新 README.md，添加 SSL 配置相关说明
- 优化脚本目录结构说明 